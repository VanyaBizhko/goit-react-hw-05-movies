{"version":3,"file":"static/js/530.a3253680.chunk.js","mappings":"0NACA,EAA4B,0BAA5B,EAA8D,sBAA9D,EAA2F,qBAA3F,EAAuH,qBAAvH,EAAmJ,qB,SCwFnJ,EAtFe,WAGX,OAA0CA,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KAEA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAkBF,EAAYG,IAAI,MAAO,GACxC,GAAkCP,EAAAA,EAAAA,UAASM,GAA3C,eAAOE,EAAP,KAAkBC,EAAlB,KAEDC,GAAWC,EAAAA,EAAAA,MAkBXC,EAAoB,WAC1B,IAAMC,EAAeL,EAAUM,cAC/BL,EAAaI,GAEb,IACME,EAAG,0DAAsDF,EAAtD,8DADM,oCAGfG,MAAMD,GACDE,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAM,+BAEpB,OAAOF,EAASG,MACnB,IACAJ,MAAK,SAAAK,GACEA,EAAKC,SACLrB,EAAiBoB,EAAKC,QAE7B,IACAC,OAAM,SAAAC,GACHC,QAAQC,MAAMF,EACjB,GACJ,EAMD,OAJAG,EAAAA,EAAAA,YAAU,WACVhB,GAEH,GAAE,KAEK,iBAAKiB,UAAWC,EAAhB,WACI,mCACA,kBACIC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZL,UAAWC,EACXK,MAAO3B,EACP4B,SAnDc,SAACC,GACvB,IAAMxB,EAAewB,EAAEC,cAAcH,MAAMrB,cAC1CL,EAAaI,GACbwB,EAAEE,OAAOJ,MAAQ9B,EAAe,CAACmC,EAAGH,EAAEE,OAAOJ,QAAS9B,EAAe,CAAC,EAE1E,EA+CWoC,UA9CY,SAACJ,GACP,UAAVA,EAAEK,KACF9B,GAEP,KA6CK,mBAAQ+B,QAAS/B,EAAjB,qBAEU,eAAIiB,UAAWC,EAAf,SAEC7B,EAAc2C,KAAI,SAACC,GAAD,OACf,eAAIhB,UAAWC,EAAf,UAEI,SAAC,KAAD,CAASD,UAAWC,EAAagB,MAAO,CAACC,KAAKrC,GAAWsC,GAAE,kBAAaH,EAAMI,IAA9E,SAAsFJ,EAAMK,SAF/DL,EAAMI,GADxB,QAUtC,C","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__hb-lD\",\"input\":\"Movies_input__N3yRL\",\"list\":\"Movies_list__pLFBP\",\"item\":\"Movies_item__XNubS\",\"link\":\"Movies_link__koirl\"};","import { useEffect, useState } from \"react\";\nimport { NavLink, useLocation, useSearchParams } from \"react-router-dom\";\nimport styles from './Movies.module.css'\nconst Movies = () => {\n \n    // const [movies, setMovies] = useState([]);\n    const [searchResults, setSearchResults] = useState([]);\n\n    const [searchQuery, setSearchQuery] = useSearchParams()\n    const queryFromParams = searchQuery.get('q')|| ''\n           const [movieName, setMovieName] = useState(queryFromParams);\n    // console.log(searchQuery);\n    const location = useLocation();\n\n\n    \n    \n     const handleNameChange = (e) => {\n        const newMovieName = e.currentTarget.value.toLowerCase();\n         setMovieName(newMovieName);\n         e.target.value ? setSearchQuery({q: e.target.value}): setSearchQuery({})\n         \n    };\n     const handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            handleSearchClick();\n        }\n    };\n\n    \n    const handleSearchClick = () => {\n    const newMovieName = movieName.toLowerCase(); // Отримуємо назву фільму з інпуту\n    setMovieName(newMovieName); // Зберігаємо назву в стані\n\n    const apiKey = 'def4cccd6431cc54dcd0cd8678ae472b';\n    const url = `https://api.themoviedb.org/3/search/movie?query=${newMovieName}&include_adult=false&language=en-US&page=1&api_key=${apiKey}`;\n    \n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.results) {\n                setSearchResults(data.results);\n            }\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    };\n    \n    useEffect(() => {\n    handleSearchClick()\n// eslint-disable-next-line react-hooks/exhaustive-deps\n}, []);\n    return (\n        <div className={styles.container}>\n            <h1>Films</h1>\n            <input \n                type=\"text\"\n                autoComplete=\"off\"\n                autoFocus\n                placeholder=\"Search movies\"\n                className={styles.input}\n                value={movieName}\n                onChange={handleNameChange}\n                onKeyDown={handleKeyPress}\n            />\n            \n          <button onClick={handleSearchClick}>Search</button>\n            \n                    <ul className={styles.list}>\n                        \n                    {searchResults.map((movie) => (\n                        <li className={styles.item} key={movie.id}>\n                            \n                            <NavLink className={styles.link} state={{from:location}} to={`/movies/${movie.id}`} >{movie.title}</NavLink>\n                        </li>\n                    ))}\n                </ul>\n           \n        </div>\n    );\n};\n\n\nexport default Movies;\n"],"names":["useState","searchResults","setSearchResults","useSearchParams","searchQuery","setSearchQuery","queryFromParams","get","movieName","setMovieName","location","useLocation","handleSearchClick","newMovieName","toLowerCase","url","fetch","then","response","ok","Error","json","data","results","catch","err","console","error","useEffect","className","styles","type","autoComplete","autoFocus","placeholder","value","onChange","e","currentTarget","target","q","onKeyDown","key","onClick","map","movie","state","from","to","id","title"],"sourceRoot":""}